// Mixins
// ----------
//
// ==========


/// Clearfix
///
/// @example
///  .element {
///    @include %cf;
///   }
/// @see cf
/// @see clearfix
%cf {
  &:after {
    content: " ";
    display: table;
    clear: both;
  }
}

/// Clearfix
///
/// @example
///  .element {
///    @include cf;
///   }
/// @see cf
/// @see clearfix
@mixin cf {
  &:after {
    content: " ";
    display: table;
    clear: both;
  }
}

/// Clearfix
///
/// @example
///  .element {
///    @include clearfix;
///   }
@mixin clearfix {
  &:after {
    content: " ";
    display: table;
    clear: both;
  }
}

/// Font Smoothing
///
/// Mixin to turn on font smoothing, especially for light text on dark background for OSX
/// @example
/// .element {
///  @include font-smoothing;
/// }

@mixin font-smoothing($value: on) {
  @if $value == on {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  @else {
    -webkit-font-smoothing: subpixel-antialiased;
    -moz-osx-font-smoothing: auto;
  }
}

/// Is-invisible
///
/// Makes element invisible, but still accessible
/// @link http://snook.ca/archives/html_and_css/hiding-content-for-accessibility
/// @example
/// .element {
///  @include is-invisible;
/// }
@mixin is-invisible {
  position: absolute;
  overflow: hidden;
  clip: rect(0 0 0 0);
  margin: -1px;
  padding: 0;
  width: 1px;
  height: 1px;
  border: 0;
}

/// Is-visible
///
/// Turns off the element-invisible effect.
/// @example
/// .element {
///  @include is-visible;
/// }
@mixin is-visible {
  position: static;
  clip: auto;
  height: auto;
  width: auto;
  overflow: auto;
}


@mixin vertical-align($position: relative) {
  position: $position;
  top: 50%;
  -webkit-transform: translateY(-50%);
  -ms-transform: translateY(-50%);
  transform: translateY(-50%);
}


/// Placeholder
///
/// Changes Placeholder styles
@mixin placeholder {
  &::-webkit-input-placeholder {
    @content;
  }
  &:-moz-placeholder {
    //  Firefox 18-
    @content;
  }
  &::-moz-placeholder {
    // Firefox 19+
    @content;
  }
  &:-ms-input-placeholder {
    @content;
  }
}

/// Text input
///
/// Calls addresses all text inputs in one selector
$text-input-types: text, password, date, datetime, datetime-local, month, week, email, number, search, tel, time, url, color !default;

@mixin text-input($types: $text-input-types) {
  $selectors: ();

  @each $type in $types {
    $selector: unquote("input[type='#{$type}']");
    $selectors: append($selectors, $selector, comma);
  }

  & #{$selectors} {
    @content;
  }
}

/// Trans-prep
///
/// Prepares for transforms. Gives backface-visibility: hidden
/// to remove flickering effect on Webkit browsers
/// @link http://blog.teamtreehouse.com/increase-your-sites-performance-with-hardware-accelerated-css
@mixin trans-prep {
  // backface visibility
  backface-visibility: hidden;
}


/// Triangle
///
/// We use this to create isosceles triangles
/// - $triangle-size       - Used to set border-size. No default, set a px or em size.
/// - $triangle-color      - Used to set border-color which makes up triangle. No default
/// - $triangle-direction  - Used to determine which direction triangle points.
///                          Options: top, bottom, left, right
@mixin triangle($triangle-size, $triangle-color, $triangle-direction) {
  content: "";
  display: block;
  width: 0;
  height: 0;
  border: inset $triangle-size;
  @if $triangle-direction == top {
    border-color: $triangle-color transparent transparent transparent;
    border-top-style: solid;
  }
  @if $triangle-direction == bottom {
    border-color: transparent transparent $triangle-color transparent;
    border-bottom-style: solid;
  }
  @if $triangle-direction == left {
    border-color: transparent transparent transparent $triangle-color;
    border-left-style: solid;
  }
  @if $triangle-direction == right {
    border-color: transparent $triangle-color transparent transparent;
    border-right-style: solid;
  }
}

/// Text overflow
///
/// Requires inline-block or block for proper styling
@mixin text-overflow() {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
